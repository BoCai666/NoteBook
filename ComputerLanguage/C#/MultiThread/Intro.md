# 简介

- ## 概念

  **并行（parallel）：**同一时间，多个线/进程同时执行。多线程目的就是为了解决并行，充分利用cpu多个核心，提高程序性能

  **线程（threading）：**操作系统能够进行运算调度的最小单位，是进程实际的运行单位。线程之间共享堆、私有栈空间。CLR为每个线程分配各自独立的栈空间

  **进程（process）：**操作系统进行资源分配的基本单位，多个进程并行的再计算机上执行，多个线程并行的在进程中执行。进程之间是隔离的

  **临界区：**同一时刻只能有一个线程进入，当有其他线程或进程进入临界区时必须是等待或阻塞。C#的lock关键字即可生成临界区

  **线程阻塞：**指当一个线程在执行过程中暂停，以等待某个条件触发来解除暂停。阻塞状态的线程不会消耗cpu资源

  **前台/后台线程：**显示创建的线程都是前台线程。只要有一个前台线程在运行，程序就可以保持存活不结束，当程序的所有前台线程停止运行时，所有后台线程也会被强制终止。当进程被强制终止时，后台线程的所有finally（或using）块都会被避开，如果程序依赖finally来执行清理工作可能会产生问题。

  

- ## **异常处理**

  线程内部的异常，在线程外部捕获不到

  **解决方式：**1. 自己的异常自己解决，线程内部捕获。2.AppDomain.CurrentDomain.UnhandledException会对所有未处理的异常触发

  

 - ## **中断和中止** 

   **中断：**对一个阻塞的线程使用Thread.Interrupt会强制释放，并在线程内部抛出ThreadInterruotedException异常。对非阻塞的线程使用Thread.Interrupt，线程会继续执行直到阻塞时才会强制释放并抛出异常。

   **中止：**对一个阻塞的线程使用使用Thread.Abort会强制释放，并在线程内部抛出ThreadAbortException异常

  

  ​	



 
