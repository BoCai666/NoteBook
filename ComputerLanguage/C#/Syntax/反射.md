# 反射

## 1.简介

- **定义：** 反射是在程序运行时获取Assembly、Class、Method、Property等的信息的机制。（反射是程序能够观测并修改自己行为和结构的一种能力。

  

## 2.Type（类的信息）

```c#
// 通过对象获取type信息
var type = object.GetType();

// 通过类型获取type信息
var type = typeof(类);

// 通过类名字符串获取type信息
var type = Type.GetType("类名");
```



## 3.MethodInfo（方法信息）

- **Type.GetMethods()：** 获取方法信息

  ```c#
  var type = object.GetType();
  // 获取某Type中的所有方法信息
  var methodInfos = type.GetMethods();
  ```

- **BindingFlags：** 设置方法标签

  ```c#
  BindingFlags.Public：方法为公共的
  BindingFlags.Instance：方法为实例的
  ```

  

## 4.Assembly

- **Assembly.Load()：** 动态加载（程序运行时加载某程序集）
- **Activator.CreateInstance()：** 创建实例


## 特性

## 1.简介

- **定义：** `[特性名]`
- **使用：** 定义在类、属性、方法、字段、方法参数、方法返回值
- **本质：** 特性本质是一个类（该类继承自Attribute类）



## 2.内置特性

- Conditional
- Obsolete



## 3.API

- **AttributeUsage：** 配置特性

```c#
// 配置特性的使用场景
AttributeTarget 
// 配置特性在同一处可使用多次
AllowMultiple = true
// 类被继承时，特性是否被继承
Inherited = true
```

- **Type.GetCustomAttributes****：** 获取特性