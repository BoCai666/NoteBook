# 运算符重载

对已有的运算符重新定义，以适用不同的数据类型

## 1.+

```c++
// 1.成员函数重载
class Person
{
public:
    int a, b;
    
    Person operator+(Person& p)
    {
        Person temp;
        temp.a = p.a + a;
        temp.b = p.b + b;
        return temp;
    }
}
// 2.全局函数重载
Person operator+(Person& p1, Person p2)
{
    Person temp;
	temp.a = p1.a + p2.a;
	temp.b = p1.b + p2.b;
	return temp;
}

Person p1, p2;
// 调成员函数重载
Person p3 = p1.operator+(p2);
// 调全局函数重载
Person p3 = operator+(p1, p2);
// 都可简化为
Person p3 = p1 + p2;
```



## 2.<<

```c++
// ostream: 标准输出流
ostream& operator<<(ostream& cout, Person& p)
{
	cout << "a: " << p.a << endl << "b: " << p.b << endl;
    return cout;
}
cout << p << endl;
```



## 3.++ 或 --

```c++
class Integer
{
    friend ostream& operator<<(ostream& cout, Integer p);
    int num;
public:
    Integer()
    {
		num = 0;
    }
    Integer(int i): num(i)
    {
    }
    // 前置++
    Integer& operator++()
    {
        num++;
        return *this;
    }
    // 后置++
    Integer operator++(int) // int表示占位参数，用于区分前置和后置递增
    {
        Integer temp = *this;
        num++;
        return temp;
    }
};

ostream& operator<<(ostream& cout, Integer p)
{
    cout << p.num;
    return cout;
}

int main()
{
    Integer i;
    cout << ++i << endl;
    return 0;
}

```



## 4.=

```c++
class Person
{
public:
    Person& operator=(Person& p)
    {
        return *this;
    }
}
```



## 5.关系运算符

```c++
class Person
{
public:
    bool operator==(Person& p)
    {
        return false;
    }
    bool operator!=(Person& p)
    {
        return false;
    }
}
```



## 6.函数调用运算符

- 函数调用运算符（）也可重载
- 重载后，使用方式如同函数调用，也称为仿函数

```c++
class Print
{
public:
    void operator()(string text)
    {
        cout << text << endl;
    }
};
int main()
{
    Print p;
    p("hello");
    // 匿名函数对象
    Print()("hello");
    return 0;
}

```

