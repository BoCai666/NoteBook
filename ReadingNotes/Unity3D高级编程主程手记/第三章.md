# 第三章 数据表与程序

## 3.1 数据表的种类
数据表相当于一个外部的数据库，存储着游戏的各种静态数据，在游戏运行期间是只读的。
- **Excel表：** 策划在Excel表中填写各种静态数据，程序通过解析Excel表，然后导出数据到游戏中使用。
- **代码数据：** 比较原始的方式，静态数据都在程序中写好，此种方式不易维护
- **文本数据：** 从Json、xml、txt等文本文件中读取静态数据
- **比特流数据：** 程序直接时读取二进制文件，按一定规则转换成静态数据，此种方式解析速度快，空间占用小、但可读性差

## 3.2 数据表的制作方式
- **制作方式简介：** 大部分都是采用Excel表作为数据表的方式，可通过C#的第三方库来读取Excel表的数据，然后将数据转成可用的格式输出到文件中，这个过程可以流水线和自动化。
- **让数据使用起来更加方便**
  - 一键转换或自动化的导出表中数据
  - 策划可配置的哪些表和sheet进行转换及导出目录
  - 策划配置的表中列名与程序中的字段名的自动对齐

## 3.3 多语言的实现
一般Excel中数据都是key-value的形式，key一般都是整数形式，但整数都是1、2、3之类的数字，在代码中获取value时直接传数字进去对于代码维护和可读性都不好，因此可以将key生成为常量具有一个名字，其1、2、3就成了它的值。
做多语言时就可以将key对用的value的文本合在一张表中，不同列代表不同语言的文本，程序中就用key来获取文本，具体的value根据不同语言返回不同的列即可。

## 个人总结
本章主要讲数据表的分类与制作方式及其自动化，同时提到了多语言的实现。本章内容需要结合实际项目经验才能体会到其中几个点的好处，如可以指定某些表的id能为其生成常量赋予一个名字，这样对于写代码的人来说更加方便不用自己在程序中定义一个常量，而且可读性也更好，同时自动化工具在该表修改时能修改自动生成的常量。然后还需要有增量导出表中数据的功能（自动检测出修改的表并为其导出数据），也需要支持自定义一个结构来表示表中一列数据的类型（不单是int、string这种基础类型），这样在程序中读取表中数据时就不用自己去转换了，这都属于自动化工具的内容，需要结合实际项目经验才能体会到其中的好处。